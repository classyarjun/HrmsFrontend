<div class="container mt-4">
  <h4 class="text-center">All Leave Requests</h4>

  <table class="table table-bordered table-striped mt-3">
    <thead class="table-dark">
      <tr>
        <th>Leave ID</th>
        <th>Employee Name</th>
        <th>From Date</th>
        <th>To Date</th>
        <th>Reason</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let leave of leaveRequests">
        <td>{{ leave.leaveId }}</td>
        <td>{{ leave.employeeName }}</td>
        <td>{{ leave.fromDate | date: 'dd-MM-yyyy' }}</td>
        <td>{{ leave.toDate | date: 'dd-MM-yyyy' }}</td>
        <td>{{ leave.reason }}</td>

        <!-- Status -->
        <td>
          <span 
            class="badge"
            [ngClass]="{
              'bg-warning': leave.status === 'PENDING',
              'bg-success': leave.status === 'APPROVED',
              'bg-danger': leave.status === 'REJECTED',
              'bg-secondary': leave.status === 'CANCELLED'
            }">
            {{ leave.status }}
          </span>
        </td>

        <!-- Action -->
        <td>
          <select
  class="form-select"
  [value]="leave.status || 'PENDING'"
  (change)="onStatusChange($event, leave.leaveId)"
  [disabled]="leave.status === 'CANCELLED'">
  <option value="" disabled>Update status</option>
  <option *ngFor="let status of leaveStatuses" [value]="status">
    {{ status }}
  </option>
</select>
        </td>
      </tr>
    </tbody>
  </table>
</div>
